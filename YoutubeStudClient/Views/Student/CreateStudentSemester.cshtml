
@{
    ViewData["Title"] = "CreateStudentSemester";
}

<h1>CreateStudentSemester</h1>

<div class="container">
    <div class="container-fluid">
        <table id="studtbl" class="table table-responsive table-striped table-bordered">
            <tr>
                <td>Student Id</td>
                <td><input id="Studid" type="text" class="form-control" /></td>
            </tr>
            <tr>
                <td>Student Semester</td>
                <td><input id="SemesterNum" type="number" class="form-control" /></td>
            </tr>
            <tr>
                <td>Student Subject1</td>
                <td><input id="Subject1" type="text" class="form-control" /></td>
            </tr>
            <tr>
                <td>Mark1</td>
                <td><input id="Mark1" type="number" class="form-control" /></td>
            </tr>
            <tr>
                <td>Student Subject2</td>
                <td><input id="Subject2" type="text" class="form-control" /></td>
            </tr>
            <tr>
                <td>Mark2</td>
                <td><input id="Mark2" type="number" class="form-control" /></td>
            </tr>
            <tr>
                <td>TotalMark</td>
                <td><input id="TotalMark" type="number" class="form-control" /></td>
            </tr>
        </table>
    </div>

    <p></p><br />
    <div><input type="button" id="btnSave" name="btnSave" class="btn btn-info" value="Save Data" /> </div>

</div>
@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            $('#btnSave').click(function () {
                debugger;
                SaveData();
            });

            function SaveData() {
                debugger;
                var n = $('#Studid').val();
                var smn = parseInt($('#SemesterNum').val());

                var s1 = $('#Subject1').val();
                var m1 = parseInt($('#Mark1').val());
                var s2 = $('#Subject2').val();
                var m2 = parseInt($('#Mark2').val());
                var t = parseInt($('#TotalMark').val());
                $.ajax({
                    type: 'POST',
                    url: 'http://localhost:5128/api/Students/CreateSemester?Studid=' + n + '&SemesterNum=' + smn + '&Subject1=' + s1 + '&Mark1=' + m1 + '&Subject2=' + s2 + '&Mark2=' + m2 + '&TotalMark=' + t,
                    contentType: 'json',
                    //data: { studentName: n, age:a , address:ad},
                    success: function (response) {
                        if (response.length == 0) {
                            alert(response);
                        } else {
                            alert("Data Saved!");
                        };
                    },
                    error: function (err) {
                        console.error(err);
                    }
                });
            }

        });
    </script>
    }